# 🗣️ Cookie 대화 능력 로드맵

## 현재 상태 (L1: 기본 학습/회상)

### ✅ 작동하는 것
- 단순 학습: "내 이름은 GNJz" → 저장
- 단순 회상: "내 이름 기억나?" → "내 이름은 GNJz"
- 간단한 응답: "안녕" → "안녕하세요! 😊"

### ❌ 작동하지 않는 것
1. **맥락 이해 부족**
   - "아니야" → 무시하고 이전 답변 반복
   - 대화 흐름 추적 없음
   - 이전 대화 참조 불가

2. **질문/학습 구분 오류**
   - "너 이름은?" → 학습으로 잘못 처리
   - 질문 패턴 인식 부정확

3. **대화 연속성 없음**
   - 이전 대화 맥락 기억 안 함
   - 대화 세션 관리 없음

4. **오류 수정 능력 없음**
   - "GNJz di" (오타) → 그대로 학습
   - "아니야" → 수정 불가

---

## 물리적 탑승을 위한 단계별 요구사항

### L2: 기본 대화 (최소 요구사항)
**목표**: 기본적인 대화가 가능한 수준

#### 필수 기능
1. **맥락 이해**
   - 이전 대화 3-5턴 기억
   - "아니야", "그게 아니야" 처리
   - 대화 흐름 추적

2. **질문/학습 정확한 구분**
   - "너 이름은?" → 질문
   - "내 이름은 GNJz" → 학습
   - 의도 파악 정확도 90%+

3. **오류 수정**
   - "아니야" → 이전 학습 취소/수정
   - "GNJz di" → "GNJz"로 수정 요청 가능

#### 구현 방법
```python
# CuriousBrain에 추가 필요:
- conversation_context: List[Dict]  # 최근 대화 기록
- last_learning: Optional[str]      # 마지막 학습 내용
- handle_correction()               # "아니야" 처리
- update_context()                  # 맥락 업데이트
```

#### 예상 작업량
- 맥락 관리: 2-3시간
- 오류 수정: 1-2시간
- 질문/학습 구분 개선: 1시간
- **총: 4-6시간**

---

### L3: 실용적 대화 (권장)
**목표**: 일상 대화가 자연스러운 수준

#### 추가 기능
1. **대화 세션 관리**
   - 세션 시작/종료
   - 세션별 맥락 유지
   - 장기 기억과 단기 기억 연결

2. **의도 파악 강화**
   - 질문/명령/학습/대화 구분
   - 암시적 의도 이해 ("그거" → 이전 대화 참조)

3. **부분 기억 관리**
   - 이름, 선호도, 설정 등 구조화된 기억
   - "내가 좋아하는 색은?" → "파란색" (이전 학습)

#### 구현 방법
```python
# 추가 필요:
- ConversationSession 클래스
- StructuredMemory (이름, 선호도 등)
- IntentClassifier (의도 분류)
```

#### 예상 작업량
- 세션 관리: 2-3시간
- 의도 파악: 3-4시간
- 구조화된 기억: 2-3시간
- **총: 7-10시간**

---

### L4: 물리적 탑승 가능 (목표)
**목표**: 실제 로봇/하드웨어에 탑재 가능한 수준

#### 추가 기능
1. **실시간 대화**
   - 지연 최소화 (< 500ms)
   - 스트리밍 응답
   - 인터럽트 처리

2. **환경 인식 통합**
   - 센서 데이터 처리 (카메라, 마이크)
   - 환경 맥락 이해 ("지금 밖이 비온다" → 카메라 데이터)

3. **행동 실행**
   - 모터 제어 명령
   - "앞으로 가" → 실제 이동
   - 안전성 검증

4. **안전성**
   - 위험 상황 감지
   - 긴급 정지
   - 오류 복구

#### 구현 방법
```python
# 통합 필요:
- NervousSystem (이미 구현됨)
- Real-time processing pipeline
- Safety layer
- Sensor fusion
```

#### 예상 작업량
- 실시간 처리: 3-4시간
- 환경 인식 통합: 4-6시간
- 행동 실행: 2-3시간
- 안전성: 3-4시간
- **총: 12-17시간**

---

## 🎯 결론 및 권장사항

### 현재 → L2 (기본 대화)
**필수**: 물리적 탑승 전 최소 요구사항
- 작업량: **4-6시간**
- 우선순위: ⭐⭐⭐⭐⭐

### L2 → L3 (실용적 대화)
**권장**: 더 자연스러운 대화를 위해
- 작업량: **7-10시간**
- 우선순위: ⭐⭐⭐⭐

### L3 → L4 (물리적 탑승)
**목표**: 실제 하드웨어 통합
- 작업량: **12-17시간**
- 우선순위: ⭐⭐⭐⭐⭐ (최종 목표)

---

## 📊 전체 작업량 요약

| 단계 | 기능 | 작업량 | 우선순위 |
|------|------|--------|----------|
| L1 → L2 | 기본 대화 | 4-6시간 | ⭐⭐⭐⭐⭐ |
| L2 → L3 | 실용적 대화 | 7-10시간 | ⭐⭐⭐⭐ |
| L3 → L4 | 물리적 탑승 | 12-17시간 | ⭐⭐⭐⭐⭐ |
| **총계** | | **23-33시간** | |

---

## 🚀 다음 단계 제안

**즉시 시작 가능한 작업 (L2)**:
1. `CuriousBrain`에 `conversation_context` 추가
2. "아니야" 처리 로직 구현
3. 질문/학습 구분 개선 (이미 진행 중)
4. 오류 수정 기능 추가

**예상 완료 시간**: 4-6시간

이 작업을 완료하면 **기본적인 대화가 가능**하며, 물리적 탑승의 **최소 요구사항**을 충족합니다.

